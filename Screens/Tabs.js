import 'react-native-gesture-handler';
import { StatusBar } from 'expo-status-bar';
import React from 'react';
import { StyleSheet, Text, View, TouchableOpacity, Dimensions } from 'react-native';
import Svg, { Circle, Rect, G, ClipPath, Defs, Path  } from 'react-native-svg';

const { width, height } = Dimensions.get('window');

export default function Tabs({ state, descriptors, navigation }) {
  const focusedOptions = descriptors[state.routes[state.index].key].options;

  if (focusedOptions.tabBarVisible === false) {
    return null;
  }

  return (
    <View style={styles.tabs }>
      {state.routes.map((route, index) => {
        const { options } = descriptors[route.key];
        const label =
          options.tabBarLabel !== undefined
            ? options.tabBarLabel
            : options.title !== undefined
            ? options.title
            : route.name;

        const isFocused = state.index === index;

        const onPress = () => {
          const event = navigation.emit({
            type: 'tabPress',
            target: route.key,
            canPreventDefault: true,
          });

          if (!isFocused && !event.defaultPrevented) {
            navigation.navigate(route.name);
          }
        };

        const onLongPress = () => {
          navigation.emit({
            type: 'tabLongPress',
            target: route.key,
          });
        };

        return (
          <TouchableOpacity
                key={index}
                accessibilityRole="button"
                accessibilityState={isFocused ? { selected: true } : {}}
                accessibilityLabel={options.tabBarAccessibilityLabel}
                testID={options.tabBarTestID}
                onPress={onPress}
                onLongPress={onLongPress}
                style={ styles.tab }
            >

              {
                  label === 'Dashboard' &&
                  <Svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    { 
                        isFocused === true ?  
                        <>
                            <G clip-path="url(#clip0)">
                                <Path d="M8.20828 0H1.95828C1.15414 0 0.5 0.654144 0.5 1.45828V5.20828C0.5 6.01257 1.15414 6.66672 1.95828 6.66672H8.20828C9.01257 6.66672 9.66672 6.01257 9.66672 5.20828V1.45828C9.66672 0.654144 9.01257 0 8.20828 0Z" fill="#6B61EC"/>
                                <Path d="M8.20828 8.33328H1.95828C1.15414 8.33328 0.5 8.98743 0.5 9.79172V18.5417C0.5 19.3459 1.15414 20 1.95828 20H8.20828C9.01257 20 9.66672 19.3459 9.66672 18.5417V9.79172C9.66672 8.98743 9.01257 8.33328 8.20828 8.33328Z" fill="#6B61EC"/>
                                <Path d="M19.0417 13.3333H12.7917C11.9875 13.3333 11.3333 13.9874 11.3333 14.7917V18.5417C11.3333 19.3459 11.9875 20 12.7917 20H19.0417C19.8459 20 20.5 19.3459 20.5 18.5417V14.7917C20.5 13.9874 19.8459 13.3333 19.0417 13.3333Z" fill="#6B61EC"/>
                                <Path d="M19.0417 0H12.7917C11.9875 0 11.3333 0.654144 11.3333 1.45828V10.2083C11.3333 11.0126 11.9875 11.6667 12.7917 11.6667H19.0417C19.8459 11.6667 20.5 11.0126 20.5 10.2083V1.45828C20.5 0.654144 19.8459 0 19.0417 0V0Z" fill="#6B61EC"/>
                            </G>
                            <Defs>
                                <ClipPath id="clip0">
                                    <Rect width="20" height="20" fill="white" transform="translate(0.5)"/>
                                </ClipPath>
                            </Defs>  
                        </>
                        : 
                        <>
                            <G clip-path="url(#clip0)">
                                <Path d="M8.20828 0H1.95828C1.15414 0 0.5 0.654144 0.5 1.45828V5.20828C0.5 6.01257 1.15414 6.66672 1.95828 6.66672H8.20828C9.01257 6.66672 9.66672 6.01257 9.66672 5.20828V1.45828C9.66672 0.654144 9.01257 0 8.20828 0Z" fill="#C4C4C4"/>
                                <Path d="M8.20828 8.33328H1.95828C1.15414 8.33328 0.5 8.98743 0.5 9.79172V18.5417C0.5 19.3459 1.15414 20 1.95828 20H8.20828C9.01257 20 9.66672 19.3459 9.66672 18.5417V9.79172C9.66672 8.98743 9.01257 8.33328 8.20828 8.33328Z" fill="#C4C4C4"/>
                                <Path d="M19.0417 13.3333H12.7917C11.9875 13.3333 11.3333 13.9874 11.3333 14.7917V18.5417C11.3333 19.3459 11.9875 20 12.7917 20H19.0417C19.8459 20 20.5 19.3459 20.5 18.5417V14.7917C20.5 13.9874 19.8459 13.3333 19.0417 13.3333Z" fill="#C4C4C4"/>
                                <Path d="M19.0417 0H12.7917C11.9875 0 11.3333 0.654144 11.3333 1.45828V10.2083C11.3333 11.0126 11.9875 11.6667 12.7917 11.6667H19.0417C19.8459 11.6667 20.5 11.0126 20.5 10.2083V1.45828C20.5 0.654144 19.8459 0 19.0417 0V0Z" fill="#C4C4C4"/>
                            </G>
                            <Defs>
                                <ClipPath id="clip0">
                                    <Rect width="20" height="20" fill="white" transform="translate(0.5)"/>
                                </ClipPath>
                            </Defs>
                        </>
                    }  
                </Svg>
              }
              {
                  label === 'Customers' &&
                  <Svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    { 
                        isFocused === true ?  
                            <> 
                                <G clip-path="url(#clip0)">
                                    <Path d="M17.6129 10.6765H16.0662C16.2239 11.1082 16.31 11.574 16.31 12.0595V17.9052C16.31 18.1076 16.2748 18.3019 16.2107 18.4826H18.7678C19.7229 18.4826 20.5 17.7055 20.5 16.7504V13.5636C20.5001 11.9717 19.2049 10.6765 17.6129 10.6765Z" fill="#6B61EC"/>
                                    <Path d="M4.69005 12.0596C4.69005 11.574 4.77618 11.1082 4.93384 10.6766H3.38712C1.79516 10.6766 0.5 11.9718 0.5 13.5637V16.7505C0.5 17.7056 1.27707 18.4828 2.23227 18.4828H4.78938C4.72528 18.302 4.69005 18.1077 4.69005 17.9053V12.0596Z" fill="#6B61EC"/>
                                    <Path d="M12.268 9.17255H8.73202C7.14007 9.17255 5.84491 10.4677 5.84491 12.0597V17.9054C5.84491 18.2242 6.10343 18.4828 6.42233 18.4828H14.5777C14.8966 18.4828 15.1551 18.2243 15.1551 17.9054V12.0597C15.1551 10.4677 13.86 9.17255 12.268 9.17255Z" fill="#6B61EC"/>
                                    <Path d="M10.5 1.51721C8.58547 1.51721 7.02789 3.07479 7.02789 4.98937C7.02789 6.288 7.74465 7.42218 8.80317 8.01765C9.30524 8.30008 9.88406 8.46148 10.5 8.46148C11.1159 8.46148 11.6948 8.30008 12.1968 8.01765C13.2554 7.42218 13.9721 6.28796 13.9721 4.98937C13.9721 3.07483 12.4145 1.51721 10.5 1.51721Z" fill="#6B61EC"/>
                                    <Path d="M4.40308 4.75351C2.97124 4.75351 1.8064 5.91836 1.8064 7.35019C1.8064 8.78203 2.97124 9.94688 4.40308 9.94688C4.76628 9.94688 5.11214 9.87164 5.42633 9.73641C5.96953 9.50254 6.41742 9.08856 6.69457 8.57C6.8891 8.20606 6.99977 7.79086 6.99977 7.35019C6.99977 5.91839 5.83492 4.75351 4.40308 4.75351Z" fill="#6B61EC"/>
                                    <Path d="M16.597 4.75351C15.1652 4.75351 14.0003 5.91836 14.0003 7.35019C14.0003 7.7909 14.111 8.20609 14.3055 8.57C14.5827 9.0886 15.0305 9.50258 15.5737 9.73641C15.8879 9.87164 16.2338 9.94688 16.597 9.94688C18.0288 9.94688 19.1937 8.78203 19.1937 7.35019C19.1937 5.91836 18.0288 4.75351 16.597 4.75351Z" fill="#6B61EC"/>
                                </G>
                                <Defs>
                                    <ClipPath id="clip0">
                                        <Rect width="20" height="20" fill="white" transform="translate(0.5)"/>
                                    </ClipPath>
                                </Defs>  
                            </>
                        : 
                            <>  
                                <G clip-path="url(#clip0)">
                                        <Path d="M17.6129 10.6765H16.0662C16.2239 11.1082 16.31 11.574 16.31 12.0595V17.9052C16.31 18.1076 16.2748 18.3019 16.2107 18.4826H18.7678C19.7229 18.4826 20.5 17.7055 20.5 16.7504V13.5636C20.5001 11.9717 19.2049 10.6765 17.6129 10.6765Z" fill="#C4C4C4"/>
                                        <Path d="M4.69005 12.0596C4.69005 11.574 4.77618 11.1082 4.93384 10.6766H3.38712C1.79516 10.6766 0.5 11.9718 0.5 13.5637V16.7505C0.5 17.7056 1.27707 18.4828 2.23227 18.4828H4.78938C4.72528 18.302 4.69005 18.1077 4.69005 17.9053V12.0596Z" fill="#C4C4C4"/>
                                        <Path d="M12.268 9.17255H8.73202C7.14007 9.17255 5.84491 10.4677 5.84491 12.0597V17.9054C5.84491 18.2242 6.10343 18.4828 6.42233 18.4828H14.5777C14.8966 18.4828 15.1551 18.2243 15.1551 17.9054V12.0597C15.1551 10.4677 13.86 9.17255 12.268 9.17255Z" fill="#C4C4C4"/>
                                        <Path d="M10.5 1.51721C8.58547 1.51721 7.02789 3.07479 7.02789 4.98937C7.02789 6.288 7.74465 7.42218 8.80317 8.01765C9.30524 8.30008 9.88406 8.46148 10.5 8.46148C11.1159 8.46148 11.6948 8.30008 12.1968 8.01765C13.2554 7.42218 13.9721 6.28796 13.9721 4.98937C13.9721 3.07483 12.4145 1.51721 10.5 1.51721Z" fill="#C4C4C4"/>
                                        <Path d="M4.40308 4.75351C2.97124 4.75351 1.8064 5.91836 1.8064 7.35019C1.8064 8.78203 2.97124 9.94688 4.40308 9.94688C4.76628 9.94688 5.11214 9.87164 5.42633 9.73641C5.96953 9.50254 6.41742 9.08856 6.69457 8.57C6.8891 8.20606 6.99977 7.79086 6.99977 7.35019C6.99977 5.91839 5.83492 4.75351 4.40308 4.75351Z" fill="#C4C4C4"/>
                                        <Path d="M16.597 4.75351C15.1652 4.75351 14.0003 5.91836 14.0003 7.35019C14.0003 7.7909 14.111 8.20609 14.3055 8.57C14.5827 9.0886 15.0305 9.50258 15.5737 9.73641C15.8879 9.87164 16.2338 9.94688 16.597 9.94688C18.0288 9.94688 19.1937 8.78203 19.1937 7.35019C19.1937 5.91836 18.0288 4.75351 16.597 4.75351Z" fill="#C4C4C4"/>
                                    </G>
                                <Defs>
                                    <ClipPath id="clip0">
                                        <Rect width="20" height="20" fill="white" transform="translate(0.5)"/>
                                    </ClipPath>
                                </Defs> 
                            </>
                    }  
                </Svg>
              }
              {
                  label === 'Subscriptions' &&
                  <Svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    { 
                        isFocused === true ?  
                        <>
                            <Svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <Path d="M20 3.36719V2.3125C20 1.10438 19.0206 0.125 17.8125 0.125H2.1875C0.979375 0.125 0 1.10438 0 2.3125V3.36719C0 3.47504 0.0874609 3.5625 0.195312 3.5625H19.8047C19.9125 3.5625 20 3.47504 20 3.36719Z" fill="#6B61EC"/>
                                <Path d="M0 5.00781V11.6875C0 12.8956 0.979375 13.875 2.1875 13.875H17.8125C19.0206 13.875 20 12.8956 20 11.6875V5.00781C20 4.89996 19.9125 4.8125 19.8047 4.8125H0.195312C0.0874609 4.8125 0 4.89996 0 5.00781ZM5 10.125C5 10.4702 4.72016 10.75 4.375 10.75H3.75C3.40484 10.75 3.125 10.4702 3.125 10.125V9.5C3.125 9.15484 3.40484 8.875 3.75 8.875H4.375C4.72016 8.875 5 9.15484 5 9.5V10.125Z" fill="#6B61EC"/>
                            </Svg>   
                        </>
                        : 
                        <>                             
                            <Svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <Path d="M20 3.36719V2.3125C20 1.10438 19.0206 0.125 17.8125 0.125H2.1875C0.979375 0.125 0 1.10438 0 2.3125V3.36719C0 3.47504 0.0874609 3.5625 0.195312 3.5625H19.8047C19.9125 3.5625 20 3.47504 20 3.36719Z" fill="#C4C4C4"/>
                                <Path d="M0 5.00781V11.6875C0 12.8956 0.979375 13.875 2.1875 13.875H17.8125C19.0206 13.875 20 12.8956 20 11.6875V5.00781C20 4.89996 19.9125 4.8125 19.8047 4.8125H0.195312C0.0874609 4.8125 0 4.89996 0 5.00781ZM5 10.125C5 10.4702 4.72016 10.75 4.375 10.75H3.75C3.40484 10.75 3.125 10.4702 3.125 10.125V9.5C3.125 9.15484 3.40484 8.875 3.75 8.875H4.375C4.72016 8.875 5 9.15484 5 9.5V10.125Z" fill="#C4C4C4"/>
                            </Svg>
                        </>
                    }  
                </Svg>
              }
              {
                  label === 'Reports' &&
                  <Svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    { 
                        isFocused === true ?  
                        <> 
                            <G clip-path="url(#clip0)">
                                <Path d="M16.0416 0H3.95823C2.69406 0 1.66656 1.0275 1.66656 2.29167V17.7083C1.66656 18.9725 2.69406 20 3.95823 20H16.0416C17.3057 20 18.3332 18.9725 18.3332 17.7083V2.29167C18.3332 1.0275 17.3057 0 16.0416 0ZM8.95823 10.8333V6.73C10.9582 7.03417 12.4999 8.75 12.4999 10.8333C12.4999 13.1308 10.6307 15 8.33323 15C7.4099 15 6.56406 14.6883 5.8724 14.1775L8.7749 11.275C8.8924 11.1583 8.95823 10.9992 8.95823 10.8333ZM7.70823 6.73V10.575L4.98907 13.2942C4.47823 12.6025 4.16656 11.7567 4.16656 10.8333C4.16656 8.75 5.70823 7.03417 7.70823 6.73ZM15.2082 17.7083H4.79157C4.44657 17.7083 4.16656 17.4283 4.16656 17.0833C4.16656 16.7383 4.44657 16.4583 4.79157 16.4583H15.2082C15.5532 16.4583 15.8332 16.7383 15.8332 17.0833C15.8332 17.4283 15.5532 17.7083 15.2082 17.7083ZM15.2082 15H13.9582C13.6132 15 13.3332 14.72 13.3332 14.375C13.3332 14.03 13.6132 13.75 13.9582 13.75H15.2082C15.5532 13.75 15.8332 14.03 15.8332 14.375C15.8332 14.72 15.5532 15 15.2082 15ZM15.2082 12.7083H13.9582C13.6132 12.7083 13.3332 12.4283 13.3332 12.0833C13.3332 11.7383 13.6132 11.4583 13.9582 11.4583H15.2082C15.5532 11.4583 15.8332 11.7383 15.8332 12.0833C15.8332 12.4283 15.5532 12.7083 15.2082 12.7083ZM15.2082 10.2083H13.9582C13.6132 10.2083 13.3332 9.92833 13.3332 9.58333C13.3332 9.23833 13.6132 8.95833 13.9582 8.95833H15.2082C15.5532 8.95833 15.8332 9.23833 15.8332 9.58333C15.8332 9.92833 15.5532 10.2083 15.2082 10.2083ZM15.2082 7.91667H13.9582C13.6132 7.91667 13.3332 7.63667 13.3332 7.29167C13.3332 6.94667 13.6132 6.66667 13.9582 6.66667H15.2082C15.5532 6.66667 15.8332 6.94667 15.8332 7.29167C15.8332 7.63667 15.5532 7.91667 15.2082 7.91667Z" fill="#6B61EC"/>
                            </G>
                            <Defs>
                                <ClipPath id="clip0">
                                <Rect width="20" height="20" fill="white"/>
                                </ClipPath>
                            </Defs>  
                        </>
                        : 
                        <> 
                            <G clip-path="url(#clip0)">
                                <Path d="M16.0416 0H3.95823C2.69406 0 1.66656 1.0275 1.66656 2.29167V17.7083C1.66656 18.9725 2.69406 20 3.95823 20H16.0416C17.3057 20 18.3332 18.9725 18.3332 17.7083V2.29167C18.3332 1.0275 17.3057 0 16.0416 0ZM8.95823 10.8333V6.73C10.9582 7.03417 12.4999 8.75 12.4999 10.8333C12.4999 13.1308 10.6307 15 8.33323 15C7.4099 15 6.56406 14.6883 5.8724 14.1775L8.7749 11.275C8.8924 11.1583 8.95823 10.9992 8.95823 10.8333ZM7.70823 6.73V10.575L4.98907 13.2942C4.47823 12.6025 4.16656 11.7567 4.16656 10.8333C4.16656 8.75 5.70823 7.03417 7.70823 6.73ZM15.2082 17.7083H4.79157C4.44657 17.7083 4.16656 17.4283 4.16656 17.0833C4.16656 16.7383 4.44657 16.4583 4.79157 16.4583H15.2082C15.5532 16.4583 15.8332 16.7383 15.8332 17.0833C15.8332 17.4283 15.5532 17.7083 15.2082 17.7083ZM15.2082 15H13.9582C13.6132 15 13.3332 14.72 13.3332 14.375C13.3332 14.03 13.6132 13.75 13.9582 13.75H15.2082C15.5532 13.75 15.8332 14.03 15.8332 14.375C15.8332 14.72 15.5532 15 15.2082 15ZM15.2082 12.7083H13.9582C13.6132 12.7083 13.3332 12.4283 13.3332 12.0833C13.3332 11.7383 13.6132 11.4583 13.9582 11.4583H15.2082C15.5532 11.4583 15.8332 11.7383 15.8332 12.0833C15.8332 12.4283 15.5532 12.7083 15.2082 12.7083ZM15.2082 10.2083H13.9582C13.6132 10.2083 13.3332 9.92833 13.3332 9.58333C13.3332 9.23833 13.6132 8.95833 13.9582 8.95833H15.2082C15.5532 8.95833 15.8332 9.23833 15.8332 9.58333C15.8332 9.92833 15.5532 10.2083 15.2082 10.2083ZM15.2082 7.91667H13.9582C13.6132 7.91667 13.3332 7.63667 13.3332 7.29167C13.3332 6.94667 13.6132 6.66667 13.9582 6.66667H15.2082C15.5532 6.66667 15.8332 6.94667 15.8332 7.29167C15.8332 7.63667 15.5532 7.91667 15.2082 7.91667Z" fill="#C4C4C4"/>
                            </G>
                            <Defs>
                                <ClipPath id="clip0">
                                <Rect width="20" height="20" fill="white"/>
                                </ClipPath>
                            </Defs> 
                        </>
                    }  
                </Svg>
              }
            <Text style={[ styles.tabText, { color: isFocused ? 'rgba(107, 97, 236, 1)' : 'rgba(196, 196, 196, 1)' } ]}>
              {label}
            </Text>
          </TouchableOpacity>
        );
      })}
    </View>
  );
}



const styles = StyleSheet.create({
    container: {
      flex: 1,
      backgroundColor: '#fff',
      alignItems: 'center',
      justifyContent: 'center',
    },
    tabs:{
        width,
        height: 60,
        flexDirection: 'row',
        justifyContent: 'space-evenly',
        alignItems: 'center',
        elevation: 5,
        borderRadius: 5,
        backgroundColor: '#fff'
    },
    tab:{ 
        height: '100%', 
        justifyContent: 'center',
        alignItems: 'center'
    },
    tabText:{
        fontSize: 13,
        fontStyle: 'normal',
        fontFamily: 'Lato-Regular',
        top: 5,
    }
  });